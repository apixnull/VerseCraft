@model VerseCraft.Areas.admin.ViewModels.PoemFormViewModel

@{
    ViewData["Title"] = "Edit Poem";
}

<div class="card border-0 shadow-lg admin-body p-0" style="max-width: 900px; margin: auto;">
    <div class="card-header bg-transparent border-bottom-0 px-4 pt-4 pb-2">
        <h4 class="fw-bold mb-0" style="color:#00d4ff;">
            <i class="bi bi-pencil me-2"></i> Edit Poem
        </h4>
    </div>
    <div class="card-body px-4 py-4 text-white">
        <form asp-action="EditPoem" asp-route-id="@Model.Id" enctype="multipart/form-data" method="post" novalidate>
            <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>
            <div class="row g-4">
                <div class="col-12 col-md-6">
                    <label asp-for="Title" class="form-label">Title</label>
                    <input asp-for="Title" class="form-control bg-dark text-white border-secondary" />
                    <span asp-validation-for="Title" class="text-danger small"></span>
                </div>
                <div class="col-12">
                    <label asp-for="Content" class="form-label">Content</label>
                    <textarea asp-for="Content" class="form-control bg-dark text-white border-secondary" rows="6"></textarea>
                    <span asp-validation-for="Content" class="text-danger small"></span>
                </div>
                <div class="col-12">
                    <label asp-for="Summary" class="form-label">Summary</label>
                    <textarea asp-for="Summary" class="form-control bg-dark text-white border-secondary" rows="3"></textarea>
                    <span asp-validation-for="Summary" class="text-danger small"></span>
                </div>
                <!-- Genre Dropdown -->
                <div class="col-12 col-md-6">
                    <label asp-for="Genre" class="form-label">Genre</label>
                    <select asp-for="Genre" class="form-select bg-dark text-white border-secondary">
                        <option value="">-- Select Genre --</option>
                        <option>Poetry</option>
                        <option>Sonnet</option>
                        <option>Haiku</option>
                        <option>Limerick</option>
                        <option>Free Verse</option>
                    </select>
                    <span asp-validation-for="Genre" class="text-danger small"></span>
                </div>
                <!-- Style Dropdown -->
                <div class="col-12 col-md-6">
                    <label asp-for="Style" class="form-label">Style</label>
                    <select asp-for="Style" class="form-select bg-dark text-white border-secondary">
                        <option value="">-- Select Style --</option>
                        <option>Traditional</option>
                        <option>Modern</option>
                        <option>Experimental</option>
                    </select>
                    <span asp-validation-for="Style" class="text-danger small"></span>
                </div>
                <div class="col-12 col-md-6">
                    <label asp-for="Language" class="form-label">Language</label>
                    <input asp-for="Language" class="form-control bg-dark text-white border-secondary" />
                    <span asp-validation-for="Language" class="text-danger small"></span>
                </div>
                <!-- Mood Dropdown -->
                <div class="col-12 col-md-6">
                    <label asp-for="Mood" class="form-label">Mood</label>
                    <select asp-for="Mood" class="form-select bg-dark text-white border-secondary">
                        <option value="">-- Select Mood --</option>
                        <option>Happy</option>
                        <option>Sad</option>
                        <option>Angry</option>
                        <option>Hopeful</option>
                        <option>Reflective</option>
                    </select>
                    <span asp-validation-for="Mood" class="text-danger small"></span>
                </div>
                <div class="col-12 col-md-4">
                    <div class="form-check mt-2">
                        <input asp-for="IsPublic" class="form-check-input" />
                        <label asp-for="IsPublic" class="form-check-label">Is Public</label>
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="form-check mt-2">
                        <input asp-for="IsApproved" class="form-check-input" />
                        <label asp-for="IsApproved" class="form-check-label">Is Approved</label>
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="form-check mt-2">
                        <input asp-for="IsFeatured" class="form-check-input" />
                        <label asp-for="IsFeatured" class="form-check-label">Is Featured</label>
                    </div>
                </div>
                <div class="col-12">
                    <label asp-for="CoverImageFile" class="form-label">Cover Image</label>
                    <input asp-for="CoverImageFile" class="form-control bg-dark text-white border-secondary" type="file" />
                    <span asp-validation-for="CoverImageFile" class="text-danger small"></span>
                    @if (!string.IsNullOrEmpty(Model.ExistingCoverImagePath))
                    {
                        <div class="mt-2">
                            <p><strong>Existing Image:</strong></p>
                            <img src="@Model.ExistingCoverImagePath" alt="Cover Image" class="img-fluid rounded" style="max-width: 200px;" />
                        </div>
                    }
                </div>
                <div class="col-12 col-md-6">
                    <label asp-for="Author" class="form-label">Author</label>
                    <input asp-for="Author" class="form-control bg-dark text-white border-secondary" />
                    <span asp-validation-for="Author" class="text-danger small"></span>
                </div>
                <div class="col-12 col-md-3">
                    <label asp-for="UserId" class="form-label">User ID</label>
                    <input asp-for="UserId" class="form-control bg-dark text-white border-secondary" type="number" />
                    <span asp-validation-for="UserId" class="text-danger small"></span>
                </div>
                <div class="col-12 col-md-3">
                    <label asp-for="AnthologyId" class="form-label">Anthology ID</label>
                    <input asp-for="AnthologyId" class="form-control bg-dark text-white border-secondary" type="number" />
                    <span asp-validation-for="AnthologyId" class="text-danger small"></span>
                </div>
            </div>
            <div class="d-flex flex-column flex-md-row justify-content-between mt-4 gap-2">
                <button type="submit" class="btn btn-outline-light px-4" style="border-color:#00d4ff; color:#00d4ff;">
                    <i class="bi bi-save me-1"></i> Save Changes
                </button>
                <a href="@Url.Action("DisplayPoem", "Poems", new { area = "admin" })" class="btn btn-outline-secondary px-4">
                    <i class="bi bi-arrow-left me-1"></i> Back to Poems
                </a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}